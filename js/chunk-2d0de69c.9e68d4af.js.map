{"version":3,"sources":["webpack:///./src/views/frontend/Favorite.vue?c247","webpack:///src/views/frontend/Favorite.vue","webpack:///./src/views/frontend/Favorite.vue?26cb","webpack:///./src/views/frontend/Favorite.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","favoriteList","length","staticClass","_v","_l","item","key","id","preventDefault","goPage","staticStyle","style","backgroundImage","_s","title","deleteFavorite","_f","origin_price","price","goShopping","staticRenderFns","data","products","methods","getProducts","$http","get","url","then","error","response","request","status","getFavoriteList","$store","dispatch","$router","push","console","log","computed","favorite","state","created","component"],"mappings":"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","file":"js/chunk-2d0de69c.9e68d4af.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(!_vm.favoriteList.length)?_c('div',[_c('div',{staticClass:\"position-relative\",staticStyle:{\"height\":\"300px\"}},[_c('div',{staticClass:\"position-absolute\",staticStyle:{\"top\":\"0\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"background-image\":\"url(https://images.unsplash.com/photo-1525201548942-d8732f6617a0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=30)\",\"background-position\":\"center center\",\"opacity\":\"0.3\"}}),_c('div',{staticClass:\"container d-flex flex-column position-absolute\",staticStyle:{\"left\":\"50%\",\"transform\":\"translate(-50%, -40%)\",\"top\":\"50%\"}},[_c('div',{staticClass:\"row justify-content-center my-auto\"},[_c('div',{staticClass:\"col-md-4 text-center\"},[_c('i',{staticClass:\"fas fa-shopping-cart fa-7x\"}),_c('h1',{staticClass:\"h3 my-3\"},[_vm._v(\"沒有收藏的商品\")]),_c('button',{staticClass:\"btn btn-outline-dark mb-5\",on:{\"click\":function($event){return _vm.goShopping()}}},[_vm._v(\" 去購物 \")])])])])])]):_c('div',{staticClass:\"container\"},[_c('h2',{staticClass:\"font-weight-bold mt-3\"},[_vm._v(\"我的最愛\")]),_c('div',{staticClass:\" row mt-md-5 mt-3 mb-7\"},_vm._l((_vm.favoriteList),function(item){return _c('div',{key:item.id,staticClass:\"col-md-6\"},[_c('div',{staticClass:\"card border-0 mb-4 position-relative position-relative\"},[_c('a',{staticClass:\" text-dark\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(item.id)}}},[_c('div',{staticStyle:{\"height\":\"200px\",\"background-size\":\"cover\",\"background-position\":\"center\",\"text-indent\":\"101%\",\"overflow\":\"hidden\",\"white-space\":\"nowrap\"},style:({backgroundImage: (\"url(\" + (item.imageUrl) + \")\")})},[_vm._v(_vm._s(item.title)+\" \")])]),_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fas fa-times position-absolute border border-danger p-1 \",staticStyle:{\"right\":\"1px\",\"bottom\":\"50px\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteFavorite(item.id)}}},[_vm._v(\"刪除\")])]),_c('div',{staticClass:\"card-body p-0\"},[_c('h4',{staticClass:\"mb-0 mt-3\"},[_c('a',{staticClass:\" text-dark\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(item.id)}}},[_vm._v(_vm._s(item.title))])]),_c('p',{staticClass:\"card-text mb-0\"},[_vm._v(\" 原價 \"),_c('del',{staticClass:\"text-muted \"},[_vm._v(_vm._s(_vm._f(\"money\")(item.origin_price)))]),_vm._v(\" \"),_c('span',[_vm._v(\" 售價 \"+_vm._s(_vm._f(\"money\")(item.price))+\" \")])]),_c('p',{staticClass:\"text-muted mt-3\"})])])])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <div v-if=\"!favoriteList.length\">\n      <div class=\"position-relative\" style=\"height:300px\">\n      <div class=\"position-absolute\" style=\"top:0; bottom:0; left:0; right:0;\n      background-image: url(https://images.unsplash.com/photo-1525201548942-d8732f6617a0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=30);\n      background-position: center center; opacity: 0.3;\"></div>\n      <div class=\"container d-flex flex-column position-absolute\" style=\"left: 50%; transform: translate(-50%, -40%); top: 50%;\">\n        <div class=\"row justify-content-center my-auto\">\n          <div class=\"col-md-4 text-center\">\n            <i class=\"fas fa-shopping-cart fa-7x\"></i>\n            <h1 class=\"h3 my-3\">沒有收藏的商品</h1>\n            <button class=\"btn btn-outline-dark mb-5\" @click=\"goShopping()\">\n              去購物\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n    <div class=\"container\" v-else>\n      <h2 class=\"font-weight-bold mt-3\">我的最愛</h2>\n      <div class=\" row mt-md-5 mt-3 mb-7\">\n        <div class=\"col-md-6\"  v-for=\"item in favoriteList\" :key=\"item.id\">\n          <div class=\"card border-0 mb-4 position-relative position-relative\" >\n            <a href=\"#\" class=\" text-dark\" @click.prevent=\"goPage(item.id)\"><div style=\"height: 200px; background-size: cover; background-position: center; text-indent:101%; overflow:hidden; white-space:nowrap\"\n                :style=\"{backgroundImage: `url(${item.imageUrl})`}\">{{item.title}}\n            </div></a>\n            <a href=\"#\" class=\"text-danger\">\n              <i class=\"fas fa-times position-absolute border border-danger p-1 \" style=\"right: 1px; bottom: 50px\" @click.prevent=\"deleteFavorite(item.id)\">刪除</i>\n            </a>\n            <div class=\"card-body p-0\">\n              <h4 class=\"mb-0 mt-3\"><a href=\"#\" class=\" text-dark\" @click.prevent=\"goPage(item.id)\">{{item.title}}</a></h4>\n              <p class=\"card-text mb-0\">  原價 <del class=\"text-muted \">{{item.origin_price | money}}</del> <span> 售價 {{item.price | money}} </span></p>\n              <p class=\"text-muted mt-3\"></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      isLoading: false,\n      products: []\n    }\n  },\n  methods: {\n    getProducts (num = 1) {\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/products?page=${num}`\n      this.$http.get(url).then(res => {\n        this.products = res.data.data\n        this.isLoading = false\n        this.getFavoriteList()\n      }).catch((error) => {\n        if (error.response.request.status === 404) {\n          this.$bus.$emit('message:push', `${error.response.request.status} 找不到頁面`, 'danger')\n        } else {\n          this.$bus.$emit('message:push', `${error.response.request.status}${error.response.data.message}`, 'danger')\n        }\n      })\n    },\n    getFavoriteList () {\n      this.$store.dispatch('getFavoriteList', this.products)\n    },\n    deleteFavorite (id) {\n      this.isLoading = true\n      this.$store.dispatch('deleteFavorite', id)\n      this.getProducts()\n    },\n    goShopping () {\n      this.$router.push('/products')\n    },\n    goPage (id) {\n      console.log(id)\n      this.$router.push(`/detail/${id}`)\n    }\n  },\n  computed: {\n    favorite () {\n      return this.$store.state.favorite\n    },\n    favoriteList () {\n      return this.$store.state.favoriteList\n    }\n  },\n  created () {\n    this.getProducts()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Favorite.vue?vue&type=template&id=d6d3c2be&\"\nimport script from \"./Favorite.vue?vue&type=script&lang=js&\"\nexport * from \"./Favorite.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}